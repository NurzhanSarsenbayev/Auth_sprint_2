{"openapi":"3.1.0","info":{"title":"Read-only API для онлайн-кинотеатра","description":"Информация о фильмах, жанрах и людях, участвовавших в создании произведения","version":"1.0.0"},"paths":{"/api/v1/search/":{"get":{"tags":["search"],"summary":"Глобальный поиск по фильмам, персонам и жанрам","operationId":"search_all_api_v1_search__get","parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","minLength":1,"description":"Поисковая строка","title":"Query"},"description":"Поисковая строка"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Size"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchResults"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/films/":{"get":{"tags":["films"],"summary":"List Films","description":"Получение списка фильмов с пагинацией.\n\nArgs:\n    page (int, optional): номер страницы.\n    size (int, optional): количество фильмов на странице. По умолчанию 10.\n    film_service (FilmService): сервис для работы с фильмами\n    (инжектируется через Depends).\n\nReturns:\n    List[FilmShort]: список фильмов с минимальными данными\n    (UUID, название, рейтинг IMDb).\n\nПримечание:\n    Данные кэшируются в Redis для ускорения повторных запросов.","operationId":"list_films_api_v1_films__get","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Номер страницы","default":1,"title":"Page"},"description":"Номер страницы"},{"name":"size","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Количество фильмов на странице","default":10,"title":"Size"},"description":"Количество фильмов на странице"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FilmShort"},"title":"Response List Films Api V1 Films  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/films/search":{"get":{"tags":["films"],"summary":"Search Films","description":"Поиск фильмов по названию или описанию.\n\nArgs:\n    query (str): поисковый запрос.\n    size (int, optional): максимальное количество возвращаемых фильмов.\n    По умолчанию 10.\n    film_service (FilmService): сервис для работы с фильмами.\n\nReturns:\n    List[FilmShort]: список фильмов, соответствующих запросу.\n\nПримечание:\n    Результаты поиска кэшируются в Redis для ускорения повторных запросов.","operationId":"search_films_api_v1_films_search_get","parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","minLength":1,"description":"Строка для полнотекстового поиска по названию фильма","title":"Query"},"description":"Строка для полнотекстового поиска по названию фильма"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Номер страницы поиска","default":1,"title":"Page"},"description":"Номер страницы поиска"},{"name":"size","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Количество результатов поиска","default":10,"title":"Size"},"description":"Количество результатов поиска"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FilmShort"},"title":"Response Search Films Api V1 Films Search Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/films/{film_id}":{"get":{"tags":["films"],"summary":"Get Film Details","description":"Получение полной информации о фильме по его UUID.\n\nArgs:\n    film_id (UUID): UUID фильма.\n    film_service (FilmService): сервис для работы с фильмами.\n\nReturns:\n    Film: объект с полной информацией о фильме, включая жанры,\n    актеров, режиссеров и сценаристов.\n\nRaises:\n    HTTPException: статус 404, если фильм не найден.\n\nПримечание:\n    Данные фильма кэшируются в Redis для ускорения повторных запросов.","operationId":"get_film_details_api_v1_films__film_id__get","parameters":[{"name":"film_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Film Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Film"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/genres/":{"get":{"tags":["genres"],"summary":"Genres List","description":"Получение списка жанров с пагинацией.\n\nArgs:\n    page (int, optional): номер страницы, начиная с 1. По умолчанию 1.\n    size (int, optional): количество жанров на странице. По умолчанию 50.\n    genre_service (GenreService): сервис для работы с жанрами\n        (инжектируется через Depends).\n\nReturns:\n    List[Genre]: список жанров на текущей странице.\n\nПримечание:\n    Данные кэшируются в Redis для ускорения повторных запросов.","operationId":"genres_list_api_v1_genres__get","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Номер страницы","default":1,"title":"Page"},"description":"Номер страницы"},{"name":"size","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Количество жанров на странице","default":10,"title":"Size"},"description":"Количество жанров на странице"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Genre"},"title":"Response Genres List Api V1 Genres  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/genres/search":{"get":{"tags":["genres"],"summary":"Search Genres","description":"Поиск жанров по названию.\n\nArgs:\n    query (str): строка для поиска в названиях жанров.\n    genre_service (GenreService): сервис для работы с жанрами.\n\nReturns:\n    List[Genre]: список жанров, название которых соответствует запросу.\n\nПримечание:\n    Результаты поиска кэшируются в Redis для ускорения повторных запросов.","operationId":"search_genres_api_v1_genres_search_get","parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","minLength":1,"description":"Поисковый запрос для жанров","title":"Query"},"description":"Поисковый запрос для жанров"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Genre"},"title":"Response Search Genres Api V1 Genres Search Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/genres/{genre_id}":{"get":{"tags":["genres"],"summary":"Genre Details","description":"Получение информации о жанре по его UUID.\n\nArgs:\n    genre_id (str): UUID жанра.\n    genre_service (GenreService): сервис для работы с жанрами.\n\nReturns:\n    Genre: объект жанра.\n\nRaises:\n    HTTPException: статус 404, если жанр не найден.\n\nПримечание:\n    Данные жанра кэшируются в Redis для ускорения повторных запросов.","operationId":"genre_details_api_v1_genres__genre_id__get","parameters":[{"name":"genre_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Genre Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Genre"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/persons/":{"get":{"tags":["persons"],"summary":"Persons List","description":"Получение списка всех персон с пагинацией.\n\nArgs:\n    page (int): номер страницы (начало с 1).\n    size (int): количество персон на странице (макс. 100).\n    person_service (PersonService): сервис для работы с персоной.\n\nReturns:\n    List[Person]: список персон с UUID, полным именем и ролью.\n\nПримечание:\n    Данные кэшируются в Redis для ускорения повторных запросов.","operationId":"persons_list_api_v1_persons__get","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Номер страницы","default":1,"title":"Page"},"description":"Номер страницы"},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Количество персон на странице","default":10,"title":"Size"},"description":"Количество персон на странице"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Person"},"title":"Response Persons List Api V1 Persons  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/persons/search":{"get":{"tags":["persons"],"summary":"Search Persons","description":"Поиск персон (актёров, режиссёров, сценаристов) по полному имени.\n\nArgs:\n    query (str): строка поиска.\n    person_service (PersonService): сервис для работы с персоной.\n\nReturns:\n    List[Person]: список персон, полностью совпадающих с запросом.\n\nПримечание:\n    Результаты поиска кэшируются в Redis.","operationId":"search_persons_api_v1_persons_search_get","parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","minLength":1,"description":"Поисковая строка для поиска персон","title":"Query"},"description":"Поисковая строка для поиска персон"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Person"},"title":"Response Search Persons Api V1 Persons Search Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/persons/{person_id}":{"get":{"tags":["persons"],"summary":"Person Details","description":"Получение информации о конкретной персоне по UUID.\n\nArgs:\n    person_id (str): UUID персоны.\n    person_service (PersonService): сервис для работы с персоной.\n\nReturns:\n    Person: объект персоны с UUID, полным именем и ролью.\n\nRaises:\n    HTTPException: статус 404, если персона не найдена.\n\nПримечание:\n    Данные кэшируются в Redis для ускорения повторных запросов.","operationId":"person_details_api_v1_persons__person_id__get","parameters":[{"name":"person_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Person Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Person"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Film":{"properties":{"uuid":{"type":"string","format":"uuid","title":"Uuid"},"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"imdb_rating":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Imdb Rating"},"genres":{"items":{"$ref":"#/components/schemas/Genre"},"type":"array","title":"Genres","default":[]},"actors":{"items":{"$ref":"#/components/schemas/Person"},"type":"array","title":"Actors","default":[]},"writers":{"items":{"$ref":"#/components/schemas/Person"},"type":"array","title":"Writers","default":[]},"directors":{"items":{"$ref":"#/components/schemas/Person"},"type":"array","title":"Directors","default":[]}},"type":"object","required":["uuid","title"],"title":"Film","description":"Полная информация о фильме, включая описание, рейтинг, жанры и участников.\n\nAttributes:\n    uuid (UUID): Уникальный идентификатор фильма.\n    title (str): Название фильма.\n    description (Optional[str]): Краткое описание фильма.\n    imdb_rating (Optional[float]): Рейтинг IMDb (может отсутствовать).\n    genres (List[Genre]): Список жанров фильма.\n    actors (List[Person]): Список актёров, участвовавших в фильме.\n    writers (List[Person]): Список сценаристов.\n    directors (List[Person]): Список режиссёров."},"FilmShort":{"properties":{"uuid":{"type":"string","format":"uuid","title":"Uuid"},"title":{"type":"string","title":"Title"},"imdb_rating":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Imdb Rating"}},"type":"object","required":["uuid","title"],"title":"FilmShort","description":"Краткая информация о фильме для списков и выдачи API.\n\nAttributes:\n    uuid (UUID): Уникальный идентификатор фильма.\n    title (str): Название фильма.\n    imdb_rating (Optional[float]): Рейтинг IMDb (может отсутствовать)."},"Genre":{"properties":{"uuid":{"type":"string","format":"uuid","title":"Uuid"},"name":{"type":"string","title":"Name"}},"type":"object","required":["uuid","name"],"title":"Genre","description":"Модель жанра фильма.\n\nAttributes:\n    uuid (UUID): Уникальный идентификатор жанра.\n    name (str): Название жанра."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Person":{"properties":{"uuid":{"type":"string","format":"uuid","title":"Uuid"},"full_name":{"type":"string","title":"Full Name"},"role":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Role"},"films":{"items":{"$ref":"#/components/schemas/FilmShort"},"type":"array","title":"Films","default":[]}},"type":"object","required":["uuid","full_name"],"title":"Person","description":"Модель персоны (актёра, режиссёра или сценариста).\n\nAttributes:\n    uuid (UUID): Уникальный идентификатор персоны.\n    full_name (str): Полное имя персоны.\n    role (Optional[str]): Роль персоны\n    (например, \"actor\", \"director\", \"writer\"). Может быть None.\n    films (list[FilmShort]): Список фильмов где они учавствовали."},"SearchResults":{"properties":{"films":{"items":{"$ref":"#/components/schemas/FilmShort"},"type":"array","title":"Films","default":[]},"persons":{"items":{"$ref":"#/components/schemas/Person"},"type":"array","title":"Persons","default":[]},"genres":{"items":{"$ref":"#/components/schemas/Genre"},"type":"array","title":"Genres","default":[]}},"type":"object","title":"SearchResults"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}
